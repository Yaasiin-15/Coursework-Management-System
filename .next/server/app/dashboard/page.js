(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},38860:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(38256),t(92307),t(35866);var a=t(23191),r=t(88716),i=t(37922),l=t.n(i),d=t(95231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,38256)),"C:\\Users\\Hp\\Desktop\\Full-Stack Projects\\Course\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,92307)),"C:\\Users\\Hp\\Desktop\\Full-Stack Projects\\Course\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Hp\\Desktop\\Full-Stack Projects\\Course\\src\\app\\dashboard\\page.tsx"],x="/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},67288:(e,s,t)=>{Promise.resolve().then(t.bind(t,92375))},92375:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(10326),r=t(17577),i=t(35047),l=t(13973),d=t(64106),n=t(62881);let c=(0,n.Z)("bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);var o=t(83855),x=t(98091);function m(){let[e,s]=(0,r.useState)(!1),[t,i]=(0,r.useState)(!1),[l,d]=(0,r.useState)(null),n=async()=>{i(!0);try{let e=localStorage.getItem("token"),s=await fetch("/api/test/create-submissions",{method:"POST",headers:{Authorization:`Bearer ${e}`}}),t=await s.json();d(t)}catch(e){d({error:"Failed to create test submission"})}finally{i(!1)}},m=async()=>{i(!0);try{let e=localStorage.getItem("token"),s=await fetch("/api/test/create-submissions",{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),t=await s.json();d(t)}catch(e){d({error:"Failed to delete test submissions"})}finally{i(!1)}},h=async()=>{i(!0);try{let e=localStorage.getItem("token"),s=await fetch("/api/assignments",{headers:{Authorization:`Bearer ${e}`}}),t=await s.json();if(t.assignments&&t.assignments.length>0){let s=t.assignments[0],a=await fetch(`/api/assignments/${s._id}/submissions`,{headers:{Authorization:`Bearer ${e}`}}),r=await a.json();d({assignment:s,submissionsResponse:r,submissionsCount:r.submissions?r.submissions.length:0})}else d({error:"No assignments found"})}catch(e){d({error:"Failed to test grading API"})}finally{i(!1)}};return e?(0,a.jsxs)("div",{className:"fixed bottom-4 right-4 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-xl p-4 w-96 max-h-96 overflow-y-auto z-50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Grading Debug"}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("button",{onClick:n,disabled:t,className:"w-full flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[a.jsx(o.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Test Submission"})]}),(0,a.jsxs)("button",{onClick:m,disabled:t,className:"w-full flex items-center justify-center space-x-2 px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[a.jsx(x.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete Test Submissions"})]}),(0,a.jsxs)("button",{onClick:h,disabled:t,className:"w-full flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 text-sm",children:[a.jsx(c,{className:"w-4 h-4"}),a.jsx("span",{children:"Test Grading API"})]})]}),t&&a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}),l&&a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded p-3 text-xs",children:a.jsx("pre",{className:"whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(l,null,2)})})]}):a.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-4 right-4 bg-red-600 text-white p-3 rounded-full shadow-lg hover:bg-red-700 z-50",title:"Debug Grading",children:a.jsx(c,{className:"w-5 h-5"})})}let h=(0,n.Z)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);var u=t(30361),g=t(48998);function p(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)([]),[c,o]=(0,r.useState)(!0),[x,p]=(0,r.useState)(null);(0,i.useRouter)();let j=e=>{let s=new Date;return Math.ceil((new Date(e).getTime()-s.getTime())/864e5)},b=e=>{let s=j(e);return s<0?"text-red-600 dark:text-red-400":s<=3?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"};if(!e)return null;let y=t.filter(e=>new Date(e.deadline)>new Date),f=t.filter(e=>new Date(e.deadline)<=new Date);return(0,a.jsxs)(l.Z,{children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:["Welcome back, ",e.name,"!"]}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"teacher"===e.role?"Manage your assignments and view student submissions.":"View your assignments and submit your work."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg transition-colors",children:a.jsx("div",{className:"p-4 sm:p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(h,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"ml-4 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:"teacher"===e.role?"Total Assignments":"Active Assignments"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.length})]})})]})})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg transition-colors",children:a.jsx("div",{className:"p-4 sm:p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx(u.Z,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"ml-4 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:"teacher"===e.role?"Graded":"Completed"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900 dark:text-white",children:f.length})]})})]})})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg transition-colors sm:col-span-2 lg:col-span-1",children:a.jsx("div",{className:"p-4 sm:p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(g.Z,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"ml-4 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:"Upcoming"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900 dark:text-white",children:y.length})]})})]})})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md transition-colors",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Recent Assignments"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"teacher"===e.role?"Your latest assignments and their status.":"Upcoming assignments and deadlines."})]}),c?(0,a.jsxs)("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Loading..."})]}):0===t.length?a.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No assignments found."}):a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.slice(0,5).map(s=>{let t=j(s.deadline);return a.jsx("li",{children:(0,a.jsxs)("div",{className:"px-4 py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:s.course.charAt(0)})})}),(0,a.jsxs)("div",{className:"ml-4 min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.course," â€¢ ",s.maxMarks," marks"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between sm:justify-end space-x-4",children:[(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("span",{className:b(s.deadline),children:t<0?`Overdue by ${Math.abs(t)} day(s)`:0===t?"Due today":`Due in ${t} day(s)`}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(s.deadline).toLocaleDateString()})]}),"teacher"===e.role&&a.jsx("button",{onClick:()=>p(s._id),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Grade"})]})]})},s._id)})})]})]}),x&&a.jsx(d.Z,{assignmentId:x,maxMarks:t.find(e=>e._id===x)?.maxMarks||100,onClose:()=>p(null)}),a.jsx(m,{})]})}},38256:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\Hp\Desktop\Full-Stack Projects\Course\src\app\dashboard\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,349,9404,5983,5167,3314],()=>t(38860));module.exports=a})();