(()=>{var e={};e.id=609,e.ids=[609],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78665:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>m,routeModule:()=>x,tree:()=>o}),t(29558),t(40591),t(35866);var r=t(23191),a=t(88716),d=t(37922),i=t.n(d),n=t(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(s,l);let o=["",{children:["assignments",{children:["[id]",{children:["grade",{children:["[submissionId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,29558)),"C:\\Users\\Hp\\Desktop\\Full-Stack Projects\\Course\\src\\app\\assignments\\[id]\\grade\\[submissionId]\\page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,40591)),"C:\\Users\\Hp\\Desktop\\Full-Stack Projects\\Course\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\Hp\\Desktop\\Full-Stack Projects\\Course\\src\\app\\assignments\\[id]\\grade\\[submissionId]\\page.tsx"],c="/assignments/[id]/grade/[submissionId]/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/assignments/[id]/grade/[submissionId]/page",pathname:"/assignments/[id]/grade/[submissionId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},29123:(e,s,t)=>{Promise.resolve().then(t.bind(t,81906))},81906:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(10326),a=t(17577),d=t(35047),i=t(43627);function n(){let[e,s]=(0,a.useState)(null),[t,n]=(0,a.useState)(null),[l,o]=(0,a.useState)(null),[m,c]=(0,a.useState)(""),[u,x]=(0,a.useState)(""),[p,g]=(0,a.useState)(!0),[b,h]=(0,a.useState)(!1),[j,y]=(0,a.useState)(""),f=(0,d.useRouter)(),v=(0,d.useParams)(),N=async e=>{e.preventDefault(),h(!0),y("");let s=localStorage.getItem("token");if(!s){f.push("/login");return}try{let e=await fetch(`/api/submissions/${v.submissionId}/grade`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({marks:m?parseInt(m):void 0,feedback:u})});if(e.ok)f.push(`/assignments/${v.id}`);else{let s=await e.json();y(s.message||"Failed to save grade")}}catch(e){y("An error occurred. Please try again.")}finally{h(!1)}};return!p&&e&&t&&l?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(i.Z,{}),r.jsx("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:r.jsx("div",{className:"px-4 py-6 sm:px-0",children:(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Grade Submission"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[t.title," - ",t.course]})]}),(0,r.jsxs)("div",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Student"}),r.jsx("p",{className:"text-lg font-medium text-gray-900",children:l.studentId.name}),r.jsx("p",{className:"text-sm text-gray-600",children:l.studentId.email})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Submission"}),r.jsx("p",{className:"text-lg font-medium text-gray-900",children:l.fileName}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Submitted: ",new Date(l.submittedAt).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Submitted File"}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:l.fileName}),r.jsx("p",{className:"text-sm text-gray-500",children:"Click to download and review"})]}),r.jsx("a",{href:l.fileUrl,download:!0,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Download"})]})})]}),(0,r.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:j}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"marks",className:"block text-sm font-medium text-gray-700",children:["Marks (out of ",t.maxMarks,")"]}),r.jsx("input",{type:"number",name:"marks",id:"marks",min:"0",max:t.maxMarks,value:m,onChange:e=>c(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2 border",placeholder:`Enter marks (0-${t.maxMarks})`})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700",children:"Feedback"}),r.jsx("textarea",{name:"feedback",id:"feedback",rows:4,value:u,onChange:e=>x(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2 border",placeholder:"Provide detailed feedback for the student..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>f.back(),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:b,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium disabled:opacity-50",children:b?"Saving...":"Save Grade"})]})]})]})]})})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(i.Z,{}),r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})}},29558:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\Hp\Desktop\Full-Stack Projects\Course\src\app\assignments\[id]\grade\[submissionId]\page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,349,435],()=>t(78665));module.exports=r})();