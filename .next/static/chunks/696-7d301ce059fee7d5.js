"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{44696:function(e,t,r){r.d(t,{Z:function(){return N}});var a=r(57437),s=r(2265),l=r(99376),i=r(73247),n=r(47692),o=r(94766),c=r(59196),d=r(32489),m=r(30401),x=r(23504);function u(){let[e,t]=(0,s.useState)(!1),{notifications:r,unreadCount:l,markAsRead:i,markAllAsRead:n,removeNotification:u}=(0,x.z)(),h=e=>{switch(e){case"assignment":return"\uD83D\uDCDD";case"grade":return"\uD83D\uDCCA";case"reminder":return"⏰";default:return"\uD83D\uDD14"}},g=e=>{let t=Math.floor((new Date().getTime()-new Date(e).getTime())/6e4),r=Math.floor(t/60),a=Math.floor(r/24);return a>0?"".concat(a,"d ago"):r>0?"".concat(r,"h ago"):t>0?"".concat(t,"m ago"):"Just now"};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>t(!e),className:"p-2 text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 relative transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),l>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:l>9?"9+":l})]}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700 z-50 max-h-96 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[l>0&&(0,a.jsx)("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Mark all as read",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100",children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"max-h-80 overflow-y-auto",children:0===r.length?(0,a.jsx)("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No notifications yet"}):r.map(e=>(0,a.jsx)("div",{className:"p-4 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ".concat(e.read?"":"bg-blue-50 dark:bg-blue-900/20"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,a.jsx)("span",{className:"text-lg",children:h(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:g(e.createdAt)})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[!e.read&&(0,a.jsx)("button",{onClick:()=>i(e.id),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Mark as read",children:(0,a.jsx)(m.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>u(e.id),className:"text-gray-400 hover:text-red-600 dark:text-gray-500 dark:hover:text-red-400",title:"Remove",children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})})]})]})},e.id))})]})]})]})}var h=r(85929),g=r(97226),f=r(69734);function v(){let{isDark:e,toggleTheme:t}=(0,f.F)();return(0,a.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 transition-colors",title:e?"Switch to light mode":"Switch to dark mode",children:e?(0,a.jsx)(h.Z,{className:"w-5 h-5"}):(0,a.jsx)(g.Z,{className:"w-5 h-5"})})}function N(){let[e,t]=(0,s.useState)(null),r=(0,l.useRouter)();return((0,s.useEffect)(()=>{let e=localStorage.getItem("user");e&&t(JSON.parse(e))},[]),e)?(0,a.jsx)("nav",{className:"bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700 h-16 transition-colors",children:(0,a.jsx)("div",{className:"h-full px-4 sm:px-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-full",children:[(0,a.jsx)("div",{className:"flex-1 max-w-lg",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search assignments, courses...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white transition-colors"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,a.jsx)(v,{}),(0,a.jsx)(u,{}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:e.role})]}),(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:e.name.charAt(0).toUpperCase()})})]}),(0,a.jsx)("div",{className:"sm:hidden w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:e.name.charAt(0).toUpperCase()})}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r.push("/login")},className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 px-2 sm:px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Logout",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm hidden sm:inline",children:"Logout"})]})]})]})})}):null}},23504:function(e,t,r){r.d(t,{NotificationProvider:function(){return i},z:function(){return n}});var a=r(57437),s=r(2265);let l=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=localStorage.getItem("notifications");e&&i(JSON.parse(e)),n()},[]);let n=async()=>{try{let e=localStorage.getItem("token");if(!e)return;let t=await fetch("/api/assignments/due-soon",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let{assignments:e}=await t.json();e.forEach(e=>{o({type:"reminder",title:"Assignment Due Soon",message:"".concat(e.title," is due in ").concat(e.daysUntilDue," day(s)"),assignmentId:e._id})})}}catch(e){console.error("Error checking due dates:",e)}},o=e=>{let t={...e,id:Date.now().toString(),read:!1,createdAt:new Date};i(e=>{let r=[t,...e];return localStorage.setItem("notifications",JSON.stringify(r)),r})},c=r.filter(e=>!e.read).length;return(0,a.jsx)(l.Provider,{value:{notifications:r,unreadCount:c,addNotification:o,markAsRead:e=>{i(t=>{let r=t.map(t=>t.id===e?{...t,read:!0}:t);return localStorage.setItem("notifications",JSON.stringify(r)),r})},markAllAsRead:()=>{i(e=>{let t=e.map(e=>({...e,read:!0}));return localStorage.setItem("notifications",JSON.stringify(t)),t})},removeNotification:e=>{i(t=>{let r=t.filter(t=>t.id!==e);return localStorage.setItem("notifications",JSON.stringify(r)),r})}},children:t})}function n(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},69734:function(e,t,r){r.d(t,{F:function(){return n},ThemeProvider:function(){return i}});var a=r(57437),s=r(2265);let l=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;("dark"===e||!e&&t)&&(i(!0),document.documentElement.classList.add("dark"))},[]),(0,a.jsx)(l.Provider,{value:{isDark:r,toggleTheme:()=>{i(!r),r?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"))}},children:t})}function n(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}}}]);