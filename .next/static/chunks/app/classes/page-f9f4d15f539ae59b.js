(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[927],{1429:function(e,s,t){Promise.resolve().then(t.bind(t,38900))},79205:function(e,s,t){"use strict";t.d(s,{Z:function(){return u}});var a=t(2265);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()),i=e=>{let s=n(e);return s.charAt(0).toUpperCase()+s.slice(1)},l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()},c=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:s,...d,width:r,height:r,stroke:t,strokeWidth:i?24*Number(n)/Number(r):n,className:l("lucide",o),...!u&&!c(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(u)?u:[u]])}),u=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:c,...d}=t;return(0,a.createElement)(o,{ref:n,iconNode:s,className:l("lucide-".concat(r(i(e))),"lucide-".concat(e),c),...d})});return t.displayName=i(e),t}},71769:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},99397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},95805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},38900:function(e,s,t){"use strict";t.d(s,{default:function(){return u}});var a=t(57437),r=t(2265),n=t(99397),i=t(71769),l=t(95805),c=t(79205);let d=(0,c.Z)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),o=(0,c.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function u(){let[e,s]=(0,r.useState)([]),[t,c]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[p,y]=(0,r.useState)(!0),[g,f]=(0,r.useState)({name:"",code:"",description:""});(0,r.useEffect)(()=>{j(),b()},[]);let j=async()=>{try{let e=await fetch("/api/classes"),t=await e.json();s(t.classes||[])}catch(e){console.error("Error fetching classes:",e)}finally{y(!1)}},b=async()=>{try{let e=await fetch("/api/students/unassigned"),s=await e.json();c(s.students||[])}catch(e){console.error("Error fetching unassigned students:",e)}},N=async e=>{e.preventDefault();try{(await fetch("/api/classes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok&&(f({name:"",code:"",description:""}),h(!1),j())}catch(e){console.error("Error creating class:",e)}},v=async(e,s)=>{try{(await fetch("/api/classes/".concat(e,"/students"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:s})})).ok&&(j(),b())}catch(e){console.error("Error adding student to class:",e)}},k=async(e,s)=>{try{(await fetch("/api/classes/".concat(e,"/students"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:s})})).ok&&(j(),b())}catch(e){console.error("Error removing student from class:",e)}};return p?(0,a.jsx)("div",{className:"flex justify-center p-8",children:"Loading..."}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Class Management"}),(0,a.jsxs)("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700",children:[(0,a.jsx)(n.Z,{size:20}),"Create Class"]})]}),u&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Create New Class"}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Class Name"}),(0,a.jsx)("input",{type:"text",value:g.name,onChange:e=>f({...g,name:e.target.value}),className:"w-full p-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Class Code"}),(0,a.jsx)("input",{type:"text",value:g.code,onChange:e=>f({...g,code:e.target.value.toUpperCase()}),className:"w-full p-2 border rounded-lg",placeholder:"e.g., CS101",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description (Optional)"}),(0,a.jsx)("textarea",{value:g.description,onChange:e=>f({...g,description:e.target.value}),className:"w-full p-2 border rounded-lg",rows:3})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Create Class"}),(0,a.jsx)("button",{type:"button",onClick:()=>h(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]})]})]}),(0,a.jsx)("div",{className:"grid gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,a.jsx)(i.Z,{size:20}),e.name," (",e.code,")"]}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Teacher: ",e.teacher.name]}),e.description&&(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:e.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)(l.Z,{size:16}),e.students.length," students"]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Students in this class:"}),0===e.students.length?(0,a.jsx)("p",{className:"text-gray-500 italic",children:"No students assigned yet"}):(0,a.jsx)("div",{className:"grid gap-2",children:e.students.map(s=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,a.jsxs)("span",{children:[s.name," (",s.email,")"]}),(0,a.jsx)("button",{onClick:()=>k(e._id,s._id),className:"text-red-600 hover:text-red-800",children:(0,a.jsx)(d,{size:16})})]},s._id))}),t.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h5",{className:"font-medium mb-2",children:"Add students:"}),(0,a.jsx)("div",{className:"grid gap-2",children:t.map(s=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-blue-50 rounded",children:[(0,a.jsxs)("span",{children:[s.name," (",s.email,")"]}),(0,a.jsx)("button",{onClick:()=>v(e._id,s._id),className:"text-green-600 hover:text-green-800",children:(0,a.jsx)(o,{size:16})})]},s._id))})]})]})]},e._id))}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No classes yet"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Create your first class to get started"})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1429)}),_N_E=e.O()}]);